extensions:
	slimApi: BrandEmbassy\Slim\DI\SlimApiExtension

slimApi:
	slimConfiguration:
		settings:
			removeDefaultHandlers: true

services:
	- Caloriary\Infrastructure\API\Handler\NotFoundHandler
	- Caloriary\Infrastructure\API\Handler\NotAllowedHandler
	- Caloriary\Infrastructure\API\Handler\ApiErrorHandler
	- Caloriary\Infrastructure\API\Action\LoginAction
	- Caloriary\Infrastructure\API\Action\ListUsersAction
	- Caloriary\Infrastructure\API\Action\RegisterUserAction
	- Caloriary\Infrastructure\API\Action\UserDetailAction
	- Caloriary\Infrastructure\API\Action\EditUserAction
	- Caloriary\Infrastructure\API\Action\DeleteUserAction
	- Caloriary\Infrastructure\API\Action\ListEntriesAction
	- Caloriary\Infrastructure\API\Action\AddEntryAction
	- Caloriary\Infrastructure\API\Action\EntryDetailAction
	- Caloriary\Infrastructure\API\Action\EditEntryAction
	- Caloriary\Infrastructure\API\Action\DeleteEntryAction

parameters:
	api:
		handlers:
			notFound: Caloriary\Infrastructure\API\Handler\NotFoundHandler
			notAllowed: Caloriary\Infrastructure\API\Handler\NotAllowedHandler
			error: Caloriary\Infrastructure\API\Handler\ApiErrorHandler

		routes:
			api:
				'1.0':
					/login:
						post:
							service: Caloriary\Infrastructure\API\Action\LoginAction

					/users:
						get:
							service: Caloriary\Infrastructure\API\Action\ListUsersAction

						post:
							service: Caloriary\Infrastructure\API\Action\RegisterUserAction

					"/users/{userId}":
						get:
							service: Caloriary\Infrastructure\API\Action\UserDetailAction

						put:
							service: Caloriary\Infrastructure\API\Action\EditUserAction

						delete:
							service: Caloriary\Infrastructure\API\Action\DeleteUserAction

					/entries:
						get:
							service: Caloriary\Infrastructure\API\Action\ListEntriesAction

						post:
							service: Caloriary\Infrastructure\API\Action\AddEntryAction

					"/entries/{entryId}":
						get:
							service: Caloriary\Infrastructure\API\Action\EntryDetailAction

						put:
							service: Caloriary\Infrastructure\API\Action\EditEntryAction

						delete:
							service: Caloriary\Infrastructure\API\Action\DeleteEntryAction


# Will we need this?:
#					"/users/{userId}/entries": []
